#!/bin/bash
# Pre-commit hook for Flutter projects
# To install: git config core.hooksPath .githooks

set -e

echo "ğŸ” Running pre-commit checks..."

# Format check
echo "ğŸ“ Checking code formatting..."
if ! dart format --set-exit-if-changed .; then
  echo "âŒ Code formatting issues found. Run 'dart format .' to fix."
  exit 1
fi

# Analyze
echo "ğŸ”¬ Running flutter analyze..."
if ! flutter analyze --no-fatal-infos; then
  echo "âŒ Analysis issues found."
  exit 1
fi

# Run tests
echo "ğŸ§ª Running tests..."
if ! flutter test; then
  echo "âŒ Tests failed."
  exit 1
fi

echo "âœ… All pre-commit checks passed!"
